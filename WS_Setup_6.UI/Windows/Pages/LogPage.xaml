<UserControl x:Class="WS_Setup_6.UI.Windows.Pages.LogPage"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:pages="clr-namespace:WS_Setup_6.UI.ViewModels.Pages"
             xmlns:behaviors="clr-namespace:WS_Setup_6.UI.Behaviors"
             Height="450"
             Width="750">

    <Grid Margin="18,4,18,18">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <TextBlock Text="Execution Log"
                   FontSize="24"
                   Margin="8" />

        <Border Grid.Row="1"
                BorderBrush="DarkSlateGray"
                BorderThickness="1"
                CornerRadius="3"
                Padding="8"
                MinHeight="200"
                Background="Transparent">
            
            <ListBox x:Name="LogListBox"
                     ItemsSource="{Binding LogEntries}"
                     behaviors:ListBoxExtensions.AutoScrollToEnd="True"
                     Background="Transparent"
                     ScrollViewer.VerticalScrollBarVisibility="Auto"
                     ScrollViewer.HorizontalScrollBarVisibility="Disabled"
                     HorizontalContentAlignment="Stretch"
                     VirtualizingStackPanel.IsVirtualizing="False">
                <ListBox.ItemContainerStyle>
                    <Style TargetType="ListBoxItem">
                        <Setter Property="HorizontalContentAlignment"
                                Value="Stretch" />
                    </Style>
                </ListBox.ItemContainerStyle>

                <ListBox.ItemTemplate>
                    <DataTemplate>
                        <TextBlock Text="{Binding}"
                                   TextWrapping="Wrap"
                                   FontFamily="Consolas"
                                   FontSize="12"
                                   Margin="5" />
                    </DataTemplate>
                </ListBox.ItemTemplate>
            </ListBox>
        </Border>
    </Grid>
</UserControl>